import React from "react";
import { CveItem } from "./CveItem";

type Props = {
  cveList: any[];
  isSearching: boolean;
  totalResults: number;
};

export const ResultsList: React.FC<Props> = ({ cveList, isSearching, totalResults }) => (
  <div>
    <h2>Matching CVEs ({totalResults} total):</h2>
    {renderList(cveList, isSearching)}
  </div>
);

// 検索中の場合はローディング表示、そうでなければ結果をリスト表示
const renderList = (cveList, isSearching) => {
  if (isSearching) {
    return <div>Loading...</div>;
  }
  return (
    <ul>
      {cveList.map((cve) => (
        <CveItem key={cve.cve.CVE_data_meta.ID} cve={cve} />
      ))}
    </ul>
  );
};

import React from "react";
import { CveItem } from "./CveItem";

export const ResultsList = ({ cveList, isSearching, totalResults }) => (
  <div>
    <h2>Matching CVEs ({totalResults} total):</h2>
    {renderList(cveList, isSearching)}
  </div>
);

// 検索中の場合はローディング表示、そうでなければ結果をリスト表示
const renderList = (cveList, isSearching) => {
  if (isSearching) {
    return <div>Searching...</div>;
  }
  if (cveList.length === 0) {
    return <div>No results found.</div>;
  }
  return (
    <ul>
      {cveList.map((cve) => (
        <CveItem key={cve.cve.CVE_data_meta.ID} cve={cve} />
      ))}
    </ul>
  );
};

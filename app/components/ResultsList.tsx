import React from "react";
import { CveItem } from "./CveItem";

type Props = {
  cveList: any[];
  isSearching: boolean;
  totalResults: number;
};

export const ResultsList: React.FC<Props> = (props) => (
  <div>
    <h2>Matching CVEs ({props.totalResults} total):</h2>
    {renderList(props.cveList, props.isSearching)}
  </div>
);

// 検索中の場合はローディング表示、そうでなければ結果をリスト表示
const renderList = (cveList, isSearching) => {
  if (isSearching) {
    return <div>Searching...</div>;
  }
  if (cveList.length === 0) {
    return <div>No results found.</div>;
  }
  return (
    <ul>
      {cveList.map((cve) => (
        <CveItem key={cve.cve.CVE_data_meta.ID} cve={cve} />
      ))}
    </ul>
  );
};
